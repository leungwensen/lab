/*! pastry - v0.3.20150303 */!function(a){"use strict";function b(a,b,c){for(var d in a)b.call(c,a[d],d,a)}if(a=a||{},!a.pastry){var c,d,e={},f=Array,g=Function,h=Object,i=String,j="prototype",k="undefined",l=f[j],m=g[j],n=i[j],o=function(){},p={}.toString,q=l.slice,r=function(a){return q.call(a,1)},s=function(a,b,c){return a.apply(b,r(c))},t=function(a,b){return p.call(b)==="[object "+a+"]"},u=e.isArrayLike=function(a){return"object"==typeof a&&isFinite(a.length)},v=e.isFunction=function(a){return t("Function",a)},w=e.isNumber=function(a){return t("Number",a)},x=e.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},y=e.isPlainObject=function(a){return t("Object",a)},z=e.toArray=function(a){return u(a)?q.call(a):[]};e.index=function(a){return function(b,c,d){var e,f=b.length>>>0;if(0===f)return-1;if(d?0>d&&(d=Math.max(0,b.length+d)):d=a?0:b.length,a){for(e=d;e<b.length;e++)if(b[e]===c)return e}else for(e=d;e>=0;e--)if(b[e]===c)return e;return-1}},e.indexOf=l.indexOf?function(a){return s(l.indexOf,a,arguments)}:e.index(!0),e.lastIndexOf=l.lastIndexOf?function(a){return s(l.lastIndexOf,a,arguments)}:e.index(),c=e.each=e.forEach=l.forEach?function(a,c,d){return u(a)?s(l.forEach,a,arguments):(y(a)&&b(a,c,d),a)}:function(a,c,d){if(u(a))for(var e=a.length,f=0;e>f;f++)f in a&&c.call(d,a[f],f,a);else y(a)&&b(a,c,d);return a},e.eachReverse=function(a,b,c){if(a)for(var d=a.length-1;d>-1;d-=1)b.call(c,a[d],d,a);return a},e.every=l.every?function(a){return s(l.every,a,arguments)}:function(a,b,c){var d;for(d=0;d<a.length;d++)if(!b.call(c,a[d],d,a))return!1;return!0},e.filter=l.filter?function(a){return s(l.filter,a,arguments)}:function(a,b,d){var e=[];return c(a,function(c,f){b.call(d,c,f,a)&&e.push(c)}),e},e.map=l.map?function(a){return s(l.map,a,arguments)}:function(a,b,d){var e=[];return c(a,function(c,f){e.push(b.call(d,c,f,a))}),e},e.some=l.some?function(a){return s(l.some,a,arguments)}:function(a,b,c){var d;for(d=0;d<a.length;d++)if(b.call(c,a[d],d,a))return!0;return!1},e.reduce=l.reduce?function(a){return s(l.reduce,a,arguments)}:function(a,b,c){var d,e;for(c&&(e=c),d=0;d<a.length;d++)e=e?b(e,a[d],d,a):a[d];return e},e.reduceRight=l.reduceRight?function(a){return s(l.reduceRight,a,arguments)}:function(a,b,c){var d,e;for(c&&(e=c),d=a.length-1;d>=0;d--)e=e?b(e,a[d],d,a):a[d];return e},e.trim=n.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},e.trimLeft=n.trimLeft?function(a){return a.trimLeft()}:function(a){return a.replace(/^\s+/g,"")},e.trimRight=n.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/g,"")},e.lc=function(a){return(a+"").toLowerCase()},e.uc=function(a){return(a+"").toUpperCase()},e.hasSubString=function(a,b){return a.indexOf(b)>-1},e.capitalize=function(a){return a+="",a.charAt(0).toUpperCase()+a.substr(1)},c(["Array","Arguments","Boolean","Date","Error","RegExp","String"],function(a){e["is"+a]=function(b){return t(a,b)}}),f.isArray&&(e.isArray=f.isArray),e.isNaN=function(a){return w(a)&&a!==+a},e.isFinite=function(a){return w(a)&&isFinite(a)&&!isNaN(a)},e.isUndefined=function(a){return void 0===a},e.isNull=function(a){return null===a},e.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=new Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e},e.flatten=function(a){for(var b=[],c=0,d=a.length;d>c;++c)u(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b},e.merge=function(a){return c(r(arguments),function(b){if(b)for(var c in b)p.call(b[c])!==p.call(a[c])?a[c]=b[c]:y(b[c])?(a[c]=a[c]||{},e.merge(a[c],b[c])):a[c]=b[c]}),a},e.extend=function(a){return c(r(arguments),function(b){if(b)for(var c in b)a[c]=b[c]}),a},e.remove=function(a,b,c){var d,e=a.length;return w(b)?(d=a.slice((c||b)+1||e),a.length=0>b?e+b:b,a.push.apply(a,d)):a},e.keys=h.keys?function(a){return h.keys(a)}:function(a){var b=[];return v(a)?c(a,function(a,c){c!==j&&b.push(c)}):c(a,function(a,c){b.push(c)}),b},e.invert=function(a){var b={};return c(a,function(a,c){b[a]=c}),b},e.values=function(a){var b=[];return c(a,function(a){b.push(a)}),b},e.hasKey=function(a,b){return a.hasOwnProperty(b)},d=e.hasValue=function(a,b){return e.indexOf(e.values(a),b)>-1},e.uniq=function(a){var b=[];return c(a,function(a){d(b,a)||b.push(a)}),b},e.union=function(){var a=[],b=z(arguments);return c(b,function(b){a.concat(b)}),e.uniq(a)},e.difference=function(a){var b=e.flatten(r(arguments),!0,!0,[]);return e.filter(a,function(a){return!d(b,a)})},e.intersect=function(a,b){var e=[];return c(a,function(a){d(b,a)&&e.push(a)}),e},e.destroy=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b];a.prototype=a.__proto__=null,a=null},e.clone=function(a){return x(a)?u(a)?z(a):e.extend({},a):a},e.bind=m.bind?function(a){return s(m.bind,a,arguments)}:function(b,c){if(v(c)&&v(b)){var d=z(arguments).slice(2),f=function(){},g=function(){return b.apply(this instanceof f&&c?this:c||a,d.concat(arguments))};return f[e]=b[e],g[e]=new f,g}},c(["info","log","warn"],function(a){e[a.toUpperCase()]=typeof console===k?o:e.bind(console[a],console)}),e.ERROR=function(a){throw e.WARN(a),new Error(a)},e.getAny=function(a){var b,c;for(b=0;b<a.length;b++)try{c=a[b]();break}catch(d){}return c},e.uuid=function(a){return a=a||"",a+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8,d=c.toString(16);return d})},e.mixin=function(a,b){c(a,function(a,c){e[c]&&!b?e.ERROR("pastry."+c+" already exists"):e[c]=a})},e.setGLOBAL=function(b,c){typeof exports!==k&&(exports[b]=c),a[b]=c},c(["P","pastry","PASTRY"],function(a){e.setGLOBAL(a,e)}),typeof exports!==k&&typeof module!==k&&module.exports&&(module.exports=e)}}(this);