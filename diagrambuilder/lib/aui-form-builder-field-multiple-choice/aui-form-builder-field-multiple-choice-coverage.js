if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-form-builder-field-multiple-choice/aui-form-builder-field-multiple-choice.js']) {
   __coverage__['build/aui-form-builder-field-multiple-choice/aui-form-builder-field-multiple-choice.js'] = {"path":"build/aui-form-builder-field-multiple-choice/aui-form-builder-field-multiple-choice.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":50},"end":{"line":1,"column":69}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":23},"end":{"line":19,"column":37}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":27}}},"4":{"name":"(anonymous_4)","line":71,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":31}}},"5":{"name":"(anonymous_5)","line":96,"loc":{"start":{"line":96,"column":21},"end":{"line":96,"column":32}}},"6":{"name":"(anonymous_6)","line":99,"loc":{"start":{"line":99,"column":37},"end":{"line":99,"column":48}}},"7":{"name":"(anonymous_7)","line":111,"loc":{"start":{"line":111,"column":26},"end":{"line":111,"column":37}}},"8":{"name":"(anonymous_8)","line":204,"loc":{"start":{"line":204,"column":20},"end":{"line":204,"column":34}}},"9":{"name":"(anonymous_9)","line":246,"loc":{"start":{"line":246,"column":21},"end":{"line":246,"column":32}}},"10":{"name":"(anonymous_10)","line":261,"loc":{"start":{"line":261,"column":26},"end":{"line":261,"column":37}}},"11":{"name":"(anonymous_11)","line":270,"loc":{"start":{"line":270,"column":16},"end":{"line":270,"column":50}}},"12":{"name":"(anonymous_12)","line":275,"loc":{"start":{"line":275,"column":43},"end":{"line":275,"column":55}}},"13":{"name":"(anonymous_13)","line":283,"loc":{"start":{"line":283,"column":69},"end":{"line":283,"column":83}}},"14":{"name":"(anonymous_14)","line":300,"loc":{"start":{"line":300,"column":39},"end":{"line":300,"column":55}}},"15":{"name":"(anonymous_15)","line":309,"loc":{"start":{"line":309,"column":36},"end":{"line":309,"column":47}}},"16":{"name":"(anonymous_16)","line":314,"loc":{"start":{"line":314,"column":28},"end":{"line":314,"column":50}}},"17":{"name":"(anonymous_17)","line":322,"loc":{"start":{"line":322,"column":36},"end":{"line":322,"column":52}}},"18":{"name":"(anonymous_18)","line":336,"loc":{"start":{"line":336,"column":27},"end":{"line":336,"column":39}}},"19":{"name":"(anonymous_19)","line":341,"loc":{"start":{"line":341,"column":24},"end":{"line":341,"column":39}}},"20":{"name":"(anonymous_20)","line":361,"loc":{"start":{"line":361,"column":37},"end":{"line":361,"column":55}}},"21":{"name":"(anonymous_21)","line":377,"loc":{"start":{"line":377,"column":26},"end":{"line":377,"column":43}}},"22":{"name":"(anonymous_22)","line":378,"loc":{"start":{"line":378,"column":33},"end":{"line":378,"column":56}}},"23":{"name":"(anonymous_23)","line":393,"loc":{"start":{"line":393,"column":23},"end":{"line":393,"column":37}}},"24":{"name":"(anonymous_24)","line":400,"loc":{"start":{"line":400,"column":16},"end":{"line":400,"column":31}}},"25":{"name":"(anonymous_25)","line":428,"loc":{"start":{"line":428,"column":31},"end":{"line":428,"column":45}}},"26":{"name":"(anonymous_26)","line":438,"loc":{"start":{"line":438,"column":29},"end":{"line":438,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":451,"column":54}},"2":{"start":{"line":10,"column":0},"end":{"line":33,"column":98}},"3":{"start":{"line":20,"column":8},"end":{"line":20,"column":25}},"4":{"start":{"line":22,"column":8},"end":{"line":27,"column":10}},"5":{"start":{"line":25,"column":16},"end":{"line":25,"column":49}},"6":{"start":{"line":29,"column":8},"end":{"line":29,"column":23}},"7":{"start":{"line":44,"column":0},"end":{"line":119,"column":3}},"8":{"start":{"line":72,"column":16},"end":{"line":72,"column":29}},"9":{"start":{"line":97,"column":12},"end":{"line":97,"column":32}},"10":{"start":{"line":99,"column":12},"end":{"line":101,"column":15}},"11":{"start":{"line":100,"column":16},"end":{"line":100,"column":40}},"12":{"start":{"line":112,"column":12},"end":{"line":112,"column":32}},"13":{"start":{"line":114,"column":12},"end":{"line":114,"column":35}},"14":{"start":{"line":116,"column":12},"end":{"line":116,"column":77}},"15":{"start":{"line":130,"column":0},"end":{"line":444,"column":3}},"16":{"start":{"line":205,"column":16},"end":{"line":205,"column":50}},"17":{"start":{"line":247,"column":12},"end":{"line":248,"column":50}},"18":{"start":{"line":250,"column":12},"end":{"line":252,"column":15}},"19":{"start":{"line":262,"column":12},"end":{"line":264,"column":48}},"20":{"start":{"line":266,"column":12},"end":{"line":266,"column":112}},"21":{"start":{"line":268,"column":12},"end":{"line":293,"column":14}},"22":{"start":{"line":271,"column":20},"end":{"line":291,"column":21}},"23":{"start":{"line":272,"column":24},"end":{"line":290,"column":26}},"24":{"start":{"line":276,"column":36},"end":{"line":277,"column":62}},"25":{"start":{"line":279,"column":36},"end":{"line":281,"column":37}},"26":{"start":{"line":280,"column":40},"end":{"line":280,"column":58}},"27":{"start":{"line":283,"column":36},"end":{"line":285,"column":39}},"28":{"start":{"line":284,"column":40},"end":{"line":284,"column":66}},"29":{"start":{"line":287,"column":36},"end":{"line":287,"column":66}},"30":{"start":{"line":295,"column":12},"end":{"line":349,"column":15}},"31":{"start":{"line":301,"column":28},"end":{"line":301,"column":81}},"32":{"start":{"line":303,"column":28},"end":{"line":303,"column":82}},"33":{"start":{"line":305,"column":28},"end":{"line":305,"column":82}},"34":{"start":{"line":310,"column":24},"end":{"line":310,"column":39}},"35":{"start":{"line":312,"column":24},"end":{"line":331,"column":26}},"36":{"start":{"line":315,"column":32},"end":{"line":318,"column":34}},"37":{"start":{"line":320,"column":32},"end":{"line":327,"column":34}},"38":{"start":{"line":323,"column":40},"end":{"line":325,"column":41}},"39":{"start":{"line":324,"column":44},"end":{"line":324,"column":76}},"40":{"start":{"line":329,"column":32},"end":{"line":329,"column":51}},"41":{"start":{"line":333,"column":24},"end":{"line":333,"column":37}},"42":{"start":{"line":337,"column":20},"end":{"line":337,"column":36}},"43":{"start":{"line":339,"column":20},"end":{"line":344,"column":22}},"44":{"start":{"line":342,"column":28},"end":{"line":342,"column":52}},"45":{"start":{"line":346,"column":20},"end":{"line":346,"column":45}},"46":{"start":{"line":351,"column":12},"end":{"line":351,"column":25}},"47":{"start":{"line":362,"column":12},"end":{"line":365,"column":14}},"48":{"start":{"line":367,"column":12},"end":{"line":367,"column":67}},"49":{"start":{"line":378,"column":12},"end":{"line":383,"column":15}},"50":{"start":{"line":379,"column":16},"end":{"line":382,"column":18}},"51":{"start":{"line":394,"column":12},"end":{"line":394,"column":32}},"52":{"start":{"line":396,"column":12},"end":{"line":396,"column":28}},"53":{"start":{"line":398,"column":12},"end":{"line":410,"column":14}},"54":{"start":{"line":401,"column":20},"end":{"line":408,"column":22}},"55":{"start":{"line":412,"column":12},"end":{"line":412,"column":70}},"56":{"start":{"line":414,"column":12},"end":{"line":414,"column":74}},"57":{"start":{"line":416,"column":12},"end":{"line":418,"column":14}},"58":{"start":{"line":429,"column":12},"end":{"line":430,"column":51}},"59":{"start":{"line":432,"column":12},"end":{"line":434,"column":13}},"60":{"start":{"line":433,"column":16},"end":{"line":433,"column":23}},"61":{"start":{"line":436,"column":12},"end":{"line":436,"column":47}},"62":{"start":{"line":438,"column":12},"end":{"line":440,"column":15}},"63":{"start":{"line":439,"column":16},"end":{"line":439,"column":97}},"64":{"start":{"line":446,"column":0},"end":{"line":446,"column":66}},"65":{"start":{"line":448,"column":0},"end":{"line":448,"column":79}}},"branchMap":{"1":{"line":205,"type":"cond-expr","locations":[{"start":{"line":205,"column":38},"end":{"line":205,"column":41}},{"start":{"line":205,"column":44},"end":{"line":205,"column":49}}]},"2":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":20},"end":{"line":271,"column":20}},{"start":{"line":271,"column":20},"end":{"line":271,"column":20}}]},"3":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":36},"end":{"line":279,"column":36}},{"start":{"line":279,"column":36},"end":{"line":279,"column":36}}]},"4":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":40},"end":{"line":323,"column":40}},{"start":{"line":323,"column":40},"end":{"line":323,"column":40}}]},"5":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":12},"end":{"line":432,"column":12}},{"start":{"line":432,"column":12},"end":{"line":432,"column":12}}]}},"code":["(function () { YUI.add('aui-form-builder-field-multiple-choice', function (A, NAME) {","","/**"," * The Form Builder Component"," *"," * @module aui-form-builder"," * @submodule aui-form-builder-field-multiple-choice"," */","","var Lang = A.Lang,","","    isArray = Lang.isArray,","","    AArray = A.Array,","    AEscape = A.Escape,","","    getCN = A.getClassName,","","    getEditorOptions = function(val) {","        var options = {};","","        AArray.each(","            val,","            function(item) {","                options[item.value] = item.label;","            }","        );","","        return options;","    },","","    CSS_FORM_BUILDER_FIELD = getCN('form-builder', 'field'),","    CSS_FORM_BUILDER_OPTIONS_EDITOR_HIDDEN = getCN('form-builder', 'options', 'editor', 'hidden');","","/**"," * A base class for `A.OptionsEditor`."," *"," * @class A.OptionsEditor"," * @extends A.RadioCellEditor"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","var OptionsEditor = A.Component.create({","","    /**","     * Static property provides a string to identify the class.","     *","     * @property NAME","     * @type String","     * @static","     */","    NAME: 'form-builder-options-editor',","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.OptionsEditor`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","","        /**","         * Defines if a field is editable.","         *","         * @attribute editable","         */","        editable: {","            setter: function() {","                return false;","            }","        }","    },","","    /**","     * Static property used to define which component it extends.","     *","     * @property EXTENDS","     * @type Object","     * @static","     */","    EXTENDS: A.RadioCellEditor,","","    prototype: {","        ELEMENT_TEMPLATE: '<div class=\"' + CSS_FORM_BUILDER_OPTIONS_EDITOR_HIDDEN + '\"></div>',","","        /**","         * Construction logic executed during `A.OptionsEditor` instantiation.","         * Lifecycle.","         *","         * @method initializer","         * @protected","         */","        initializer: function() {","            var instance = this;","","            instance.after('render', function() {","                instance._onEditEvent();","            });","        },","","        /**","         * Handles the logic to save an event.","         *","         * @method _handleSaveEvent","         * @param event","         * @protected","         */","        _handleSaveEvent: function() {","            var instance = this;","","            instance.saveOptions();","","            OptionsEditor.superclass._handleSaveEvent.apply(this, arguments);","        }","    }","});","","/**"," * A base class for `A.FormBuilderMultipleChoiceField`."," *"," * @class A.FormBuilderMultipleChoiceField"," * @extends A.FormBuilderField"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","var FormBuilderMultipleChoiceField = A.Component.create({","","    /**","     * Static property provides a string to identify the class.","     *","     * @property NAME","     * @type String","     * @static","     */","    NAME: 'form-builder-multiple-choice-field',","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.FormBuilderMultipleChoiceField`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","","        /**","         * If `true` children are accepted.","         *","         * @attribute acceptChildren","         * @default false","         * @type Boolean","         * @readOnly","         */","        acceptChildren: {","            value: false,","            readOnly: true","        },","","        /**","         * Collection of options. Each option is made of a label and value.","         *","         * @attribute options","         * @type Object","         */","        options: {","            value: [","                {","                    label: 'option 1',","                    value: 'value 1'","                },","                {","                    label: 'option 2',","                    value: 'value 2'","                },","                {","                    label: 'option 3',","                    value: 'value 3'","                }","            ]","        },","","        /**","         * Markup used to generate each item from `options` attribute.","         *","         * @attribute optionTemplate","         * @default '<option value=\"{value}\">{label}</option>'","         * @type String","         */","        optionTemplate: {","            value: '<option value=\"{value}\">{label}</option>'","        },","","        /**","         * Specifies a predefined value for the multiple choice field.","         *","         * @attribute predefinedValue","         */","        predefinedValue: {","            setter: function(val) {","                return isArray(val) ? val : [val];","            }","        }","    },","","    /**","     * Static property used to define the UI attributes.","     *","     * @property UI_ATTRS","     * @type Array","     * @static","     */","    UI_ATTRS: ['acceptChildren', 'label', 'name', 'options', 'predefinedValue', 'showLabel'],","","    /**","     * Static property provides a string to identify the CSS prefix.","     *","     * @property CSS_PREFIX","     * @type String","     * @static","     */","    CSS_PREFIX: CSS_FORM_BUILDER_FIELD,","","    /**","     * Static property used to define which component it extends.","     *","     * @property EXTENDS","     * @type Object","     * @static","     */","    EXTENDS: A.FormBuilderField,","","    prototype: {","","        /**","         * Construction logic executed during `A.FormBuilderMultipleChoiceField`","         * instantiation. Lifecycle.","         *","         * @method initializer","         * @protected","         */","        initializer: function() {","            var instance = this,","                options = instance.get('options');","","            instance.predefinedValueEditor = new A.DropDownCellEditor({","                options: instance._getPredefinedValuesOptions(options)","            });","        },","","        /**","         * Returns a list of property models including the `A.RadioCellEditor`","         * model.","         *","         * @method getPropertyModel","         */","        getPropertyModel: function() {","            var instance = this,","                options = instance.get('options'),","                strings = instance.getStrings();","","            var model = A.FormBuilderMultipleChoiceField.superclass.getPropertyModel.apply(instance, arguments);","","            AArray.each(","                model,","                function(item, index, collection) {","                    if (item.attributeName === 'predefinedValue') {","                        collection[index] = A.merge(","                            item, {","                                editor: instance.predefinedValueEditor,","                                formatter: function(o) {","                                    var editorOptions = instance.predefinedValueEditor.get('options'),","                                        values = o.data.value;","","                                    if (!isArray(values)) {","                                        values = [values];","                                    }","","                                    var labels = A.Array.map(values, function(val) {","                                        return editorOptions[val];","                                    });","","                                    return labels.join(',' + ' ');","                                }","                            }","                        );","                    }","                }","            );","","            model.push({","                attributeName: 'options',","                editor: new OptionsEditor({","                    editable: true,","                    on: {","                        optionsChange: function(event) {","                            var values = instance._normalizeValues(event.newVal);","","                            values = instance._getPredefinedValuesOptions(values);","","                            instance.predefinedValueEditor.set('options', values);","                        }","                    },","                    options: getEditorOptions(options),","                    inputFormatter: function() {","                        var input = [];","","                        A.each(","                            this.get('options'),","                            function(item, index) {","                                var option = {","                                    label: item,","                                    value: index","                                };","","                                AArray.each(","                                    options,","                                    function(oItem) {","                                        if (oItem.value === index) {","                                            option = A.merge(oItem, option);","                                        }","                                    }","                                );","","                                input.push(option);","                            }","                        );","","                        return input;","                    }","                }),","                formatter: function(o) {","                    var buffer = [];","","                    A.each(","                        o.data.value,","                        function(item) {","                            buffer.push(item.label);","                        }","                    );","","                    return buffer.join(', ');","                },","                name: strings.options","            });","","            return model;","        },","","        /**","         * Returns a list of predefined values with an empty option","         *","         * @method _getPredefinedValuesOptions","         * @param options","         * @protected","         */","        _getPredefinedValuesOptions: function(options) {","            var emptyOption = {","                label: '',","                value: ''","            };","","            return getEditorOptions([emptyOption].concat(options));","        },","","        /**","         * Returns an array of objects with values","         *","         * @method _normalizeValues","         * @param values","         * @protected","         */","        _normalizeValues: function(values) {","            return A.map(values, function(label, value) {","                return {","                    label: label,","                    value: value","                };","            });","        },","","        /**","         * Set the `options` attribute on the UI.","         *","         * @method _uiSetOptions","         * @param val","         * @protected","         */","        _uiSetOptions: function(val) {","            var instance = this;","","            var buffer = [];","","            A.each(","                val,","                function(item) {","                    buffer.push(","                        Lang.sub(","                            instance.get('optionTemplate'), {","                                label: AEscape.html(item.label),","                                value: AEscape.html(item.value)","                            }","                        )","                    );","                }","            );","","            instance.optionNodes = A.NodeList.create(buffer.join(''));","","            instance.get('templateNode').setContent(instance.optionNodes);","","            instance._uiSetPredefinedValue(","                instance.get('predefinedValue')","            );","        },","","        /**","         * Set the `predefinedValue` attribute on the UI.","         *","         * @method _uiSetPredefinedValue","         * @param val","         * @protected","         */","        _uiSetPredefinedValue: function(val) {","            var instance = this,","                optionNodes = instance.optionNodes;","","            if (!optionNodes) {","                return;","            }","","            optionNodes.set('selected', false);","","            AArray.each(val, function(item) {","                optionNodes.filter('[value=\"' + AEscape.html(item) + '\"]').set('selected', true);","            });","        }","    }","","});","","A.FormBuilderMultipleChoiceField = FormBuilderMultipleChoiceField;","","A.FormBuilderField.types['multiple-choice'] = A.FormBuilderMultipleChoiceField;","","","}, '3.0.0', {\"requires\": [\"aui-form-builder-field\"]});","","}());"]};
}
var __cov_pAImAuPpsBNzvIUYPFXNxw = __coverage__['build/aui-form-builder-field-multiple-choice/aui-form-builder-field-multiple-choice.js'];
__cov_pAImAuPpsBNzvIUYPFXNxw.s['1']++;YUI.add('aui-form-builder-field-multiple-choice',function(A,NAME){__cov_pAImAuPpsBNzvIUYPFXNxw.f['1']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['2']++;var Lang=A.Lang,isArray=Lang.isArray,AArray=A.Array,AEscape=A.Escape,getCN=A.getClassName,getEditorOptions=function(val){__cov_pAImAuPpsBNzvIUYPFXNxw.f['2']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['3']++;var options={};__cov_pAImAuPpsBNzvIUYPFXNxw.s['4']++;AArray.each(val,function(item){__cov_pAImAuPpsBNzvIUYPFXNxw.f['3']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['5']++;options[item.value]=item.label;});__cov_pAImAuPpsBNzvIUYPFXNxw.s['6']++;return options;},CSS_FORM_BUILDER_FIELD=getCN('form-builder','field'),CSS_FORM_BUILDER_OPTIONS_EDITOR_HIDDEN=getCN('form-builder','options','editor','hidden');__cov_pAImAuPpsBNzvIUYPFXNxw.s['7']++;var OptionsEditor=A.Component.create({NAME:'form-builder-options-editor',ATTRS:{editable:{setter:function(){__cov_pAImAuPpsBNzvIUYPFXNxw.f['4']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['8']++;return false;}}},EXTENDS:A.RadioCellEditor,prototype:{ELEMENT_TEMPLATE:'<div class="'+CSS_FORM_BUILDER_OPTIONS_EDITOR_HIDDEN+'"></div>',initializer:function(){__cov_pAImAuPpsBNzvIUYPFXNxw.f['5']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['9']++;var instance=this;__cov_pAImAuPpsBNzvIUYPFXNxw.s['10']++;instance.after('render',function(){__cov_pAImAuPpsBNzvIUYPFXNxw.f['6']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['11']++;instance._onEditEvent();});},_handleSaveEvent:function(){__cov_pAImAuPpsBNzvIUYPFXNxw.f['7']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['12']++;var instance=this;__cov_pAImAuPpsBNzvIUYPFXNxw.s['13']++;instance.saveOptions();__cov_pAImAuPpsBNzvIUYPFXNxw.s['14']++;OptionsEditor.superclass._handleSaveEvent.apply(this,arguments);}}});__cov_pAImAuPpsBNzvIUYPFXNxw.s['15']++;var FormBuilderMultipleChoiceField=A.Component.create({NAME:'form-builder-multiple-choice-field',ATTRS:{acceptChildren:{value:false,readOnly:true},options:{value:[{label:'option 1',value:'value 1'},{label:'option 2',value:'value 2'},{label:'option 3',value:'value 3'}]},optionTemplate:{value:'<option value="{value}">{label}</option>'},predefinedValue:{setter:function(val){__cov_pAImAuPpsBNzvIUYPFXNxw.f['8']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['16']++;return isArray(val)?(__cov_pAImAuPpsBNzvIUYPFXNxw.b['1'][0]++,val):(__cov_pAImAuPpsBNzvIUYPFXNxw.b['1'][1]++,[val]);}}},UI_ATTRS:['acceptChildren','label','name','options','predefinedValue','showLabel'],CSS_PREFIX:CSS_FORM_BUILDER_FIELD,EXTENDS:A.FormBuilderField,prototype:{initializer:function(){__cov_pAImAuPpsBNzvIUYPFXNxw.f['9']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['17']++;var instance=this,options=instance.get('options');__cov_pAImAuPpsBNzvIUYPFXNxw.s['18']++;instance.predefinedValueEditor=new A.DropDownCellEditor({options:instance._getPredefinedValuesOptions(options)});},getPropertyModel:function(){__cov_pAImAuPpsBNzvIUYPFXNxw.f['10']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['19']++;var instance=this,options=instance.get('options'),strings=instance.getStrings();__cov_pAImAuPpsBNzvIUYPFXNxw.s['20']++;var model=A.FormBuilderMultipleChoiceField.superclass.getPropertyModel.apply(instance,arguments);__cov_pAImAuPpsBNzvIUYPFXNxw.s['21']++;AArray.each(model,function(item,index,collection){__cov_pAImAuPpsBNzvIUYPFXNxw.f['11']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['22']++;if(item.attributeName==='predefinedValue'){__cov_pAImAuPpsBNzvIUYPFXNxw.b['2'][0]++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['23']++;collection[index]=A.merge(item,{editor:instance.predefinedValueEditor,formatter:function(o){__cov_pAImAuPpsBNzvIUYPFXNxw.f['12']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['24']++;var editorOptions=instance.predefinedValueEditor.get('options'),values=o.data.value;__cov_pAImAuPpsBNzvIUYPFXNxw.s['25']++;if(!isArray(values)){__cov_pAImAuPpsBNzvIUYPFXNxw.b['3'][0]++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['26']++;values=[values];}else{__cov_pAImAuPpsBNzvIUYPFXNxw.b['3'][1]++;}__cov_pAImAuPpsBNzvIUYPFXNxw.s['27']++;var labels=A.Array.map(values,function(val){__cov_pAImAuPpsBNzvIUYPFXNxw.f['13']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['28']++;return editorOptions[val];});__cov_pAImAuPpsBNzvIUYPFXNxw.s['29']++;return labels.join(','+' ');}});}else{__cov_pAImAuPpsBNzvIUYPFXNxw.b['2'][1]++;}});__cov_pAImAuPpsBNzvIUYPFXNxw.s['30']++;model.push({attributeName:'options',editor:new OptionsEditor({editable:true,on:{optionsChange:function(event){__cov_pAImAuPpsBNzvIUYPFXNxw.f['14']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['31']++;var values=instance._normalizeValues(event.newVal);__cov_pAImAuPpsBNzvIUYPFXNxw.s['32']++;values=instance._getPredefinedValuesOptions(values);__cov_pAImAuPpsBNzvIUYPFXNxw.s['33']++;instance.predefinedValueEditor.set('options',values);}},options:getEditorOptions(options),inputFormatter:function(){__cov_pAImAuPpsBNzvIUYPFXNxw.f['15']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['34']++;var input=[];__cov_pAImAuPpsBNzvIUYPFXNxw.s['35']++;A.each(this.get('options'),function(item,index){__cov_pAImAuPpsBNzvIUYPFXNxw.f['16']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['36']++;var option={label:item,value:index};__cov_pAImAuPpsBNzvIUYPFXNxw.s['37']++;AArray.each(options,function(oItem){__cov_pAImAuPpsBNzvIUYPFXNxw.f['17']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['38']++;if(oItem.value===index){__cov_pAImAuPpsBNzvIUYPFXNxw.b['4'][0]++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['39']++;option=A.merge(oItem,option);}else{__cov_pAImAuPpsBNzvIUYPFXNxw.b['4'][1]++;}});__cov_pAImAuPpsBNzvIUYPFXNxw.s['40']++;input.push(option);});__cov_pAImAuPpsBNzvIUYPFXNxw.s['41']++;return input;}}),formatter:function(o){__cov_pAImAuPpsBNzvIUYPFXNxw.f['18']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['42']++;var buffer=[];__cov_pAImAuPpsBNzvIUYPFXNxw.s['43']++;A.each(o.data.value,function(item){__cov_pAImAuPpsBNzvIUYPFXNxw.f['19']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['44']++;buffer.push(item.label);});__cov_pAImAuPpsBNzvIUYPFXNxw.s['45']++;return buffer.join(', ');},name:strings.options});__cov_pAImAuPpsBNzvIUYPFXNxw.s['46']++;return model;},_getPredefinedValuesOptions:function(options){__cov_pAImAuPpsBNzvIUYPFXNxw.f['20']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['47']++;var emptyOption={label:'',value:''};__cov_pAImAuPpsBNzvIUYPFXNxw.s['48']++;return getEditorOptions([emptyOption].concat(options));},_normalizeValues:function(values){__cov_pAImAuPpsBNzvIUYPFXNxw.f['21']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['49']++;return A.map(values,function(label,value){__cov_pAImAuPpsBNzvIUYPFXNxw.f['22']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['50']++;return{label:label,value:value};});},_uiSetOptions:function(val){__cov_pAImAuPpsBNzvIUYPFXNxw.f['23']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['51']++;var instance=this;__cov_pAImAuPpsBNzvIUYPFXNxw.s['52']++;var buffer=[];__cov_pAImAuPpsBNzvIUYPFXNxw.s['53']++;A.each(val,function(item){__cov_pAImAuPpsBNzvIUYPFXNxw.f['24']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['54']++;buffer.push(Lang.sub(instance.get('optionTemplate'),{label:AEscape.html(item.label),value:AEscape.html(item.value)}));});__cov_pAImAuPpsBNzvIUYPFXNxw.s['55']++;instance.optionNodes=A.NodeList.create(buffer.join(''));__cov_pAImAuPpsBNzvIUYPFXNxw.s['56']++;instance.get('templateNode').setContent(instance.optionNodes);__cov_pAImAuPpsBNzvIUYPFXNxw.s['57']++;instance._uiSetPredefinedValue(instance.get('predefinedValue'));},_uiSetPredefinedValue:function(val){__cov_pAImAuPpsBNzvIUYPFXNxw.f['25']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['58']++;var instance=this,optionNodes=instance.optionNodes;__cov_pAImAuPpsBNzvIUYPFXNxw.s['59']++;if(!optionNodes){__cov_pAImAuPpsBNzvIUYPFXNxw.b['5'][0]++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['60']++;return;}else{__cov_pAImAuPpsBNzvIUYPFXNxw.b['5'][1]++;}__cov_pAImAuPpsBNzvIUYPFXNxw.s['61']++;optionNodes.set('selected',false);__cov_pAImAuPpsBNzvIUYPFXNxw.s['62']++;AArray.each(val,function(item){__cov_pAImAuPpsBNzvIUYPFXNxw.f['26']++;__cov_pAImAuPpsBNzvIUYPFXNxw.s['63']++;optionNodes.filter('[value="'+AEscape.html(item)+'"]').set('selected',true);});}}});__cov_pAImAuPpsBNzvIUYPFXNxw.s['64']++;A.FormBuilderMultipleChoiceField=FormBuilderMultipleChoiceField;__cov_pAImAuPpsBNzvIUYPFXNxw.s['65']++;A.FormBuilderField.types['multiple-choice']=A.FormBuilderMultipleChoiceField;},'3.0.0',{'requires':['aui-form-builder-field']});
